import{h as D,z as C,x as n,y as m,A as P,B as v,r as U,o as I,n as T,p as _,q as t,t as c,u as y,F as N,C as $,v as V,D as j}from"./index-0f543cbb.js";const q=D({__name:"PaginationItem",props:{total:null,pageSize:null},emits:["sizeChange","currentChange"],setup(g,{emit:i}){const p=e=>{i("sizeChange",e)},a=e=>{i("currentChange",e)};return(e,b)=>{const f=n("el-pagination");return m(),C(f,{layout:"sizes, prev, pager, next","page-sizes":[10,20,30],"pager-count":5,"page-size":g.pageSize,total:g.total,onSizeChange:p,onCurrentChange:a,class:"justify-end my-3"},null,8,["page-size","total"])}}}),A={class:"flex-col"},E={class:"text-2xl font-extrabold text-gray-600 flex items-center"},L={class:"my-1 h-full flex flex-col"},G={class:"flex flex-row items-center my-3"},J=D({__name:"MemberManagement",setup(g){const i=P(),p=i.memberTypeMap,a=v({total:0,pageSize:10,currentPage:1}),e=v({account:"",memberType:""}),b=U([]),f=r=>{a.pageSize=r,d()},M=r=>{a.currentPage=r,d()},d=()=>{const r=(a.currentPage-1)*a.pageSize,l=r+a.pageSize;let o=i.getMemberData();e.account&&(o=o.filter(u=>u.account.includes(e.account))),e.memberType&&(o=o.filter(u=>u.memberType===e.memberType)),a.total=o.length,b.value=o.slice(r,l)};return I(()=>{d()}),(r,l)=>{const o=n("UserFilled"),u=n("el-icon"),k=n("el-input"),x=n("el-form-item"),z=n("el-option"),w=n("el-select"),B=n("el-button"),h=n("el-table-column"),F=n("el-table");return m(),T("div",A,[_("div",E,[t(u,{class:"mr-2"},{default:c(()=>[t(o)]),_:1}),y(" 成員管理區 ")]),_("div",L,[_("div",G,[t(x,{label:"學生姓名："},{default:c(()=>[t(k,{modelValue:e.account,"onUpdate:modelValue":l[0]||(l[0]=s=>e.account=s),clearable:"",placeholder:"名稱"},null,8,["modelValue"])]),_:1}),t(x,{label:"身分：",class:"ml-3"},{default:c(()=>[t(w,{modelValue:e.memberType,"onUpdate:modelValue":l[1]||(l[1]=s=>e.memberType=s),placeholder:"請選擇會員類型"},{default:c(()=>[(m(),C(z,{key:"",value:"",label:"全選"})),(m(!0),T(N,null,$(V(p),([s,S])=>(m(),C(z,{key:S,value:s,label:S},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(B,{class:"mb-[18px] ml-3",onClick:l[2]||(l[2]=s=>d()),type:"success"},{default:c(()=>[y(" 搜尋 ")]),_:1})]),_("div",null,[t(F,{data:b.value,border:"",height:"440",style:{width:"100%"},"scrollbar-always-on":!0},{default:c(()=>[t(h,{prop:"account",label:"名稱",width:"180"}),t(h,{prop:"memberType",label:"會員身分",width:"180"},{default:c(({row:s})=>[y(j(V(p).get(s.memberType)),1)]),_:1}),t(h,{prop:"createTime",label:"創建時間"})]),_:1},8,["data"]),t(q,{total:a.total,pageSize:a.pageSize,onSizeChange:f,onCurrentChange:M},null,8,["total","pageSize"])])])])}}});export{J as default};
